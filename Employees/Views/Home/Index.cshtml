@model Employees.Models.IndexViewModel

<style>
td{padding:5px;}
tr:nth-child(even) {background: #CCC}
tr:nth-child(odd) {background: #FFF}
</style>

<h2>Программа - Список сотрудников</h2>

<h2>Отделы</h2>
<p><a asp-action="Create" asp-controller="department">Добавить</a></p>
<p><a asp-action="Delete" asp-controller="department">Удалить</a></p>
<p><a asp-action="List" asp-controller="department">Переименовать</a></p>

<h2>Сотрудники</h2>
<p><a asp-action="Create" asp-controller="employee">Добавить</a></p>

<h3>Фильтры по ФИО и номеру телефона</h3>
<div class="form-group">
    <input type="text" id="search" oninput="FilterByFullName()" placeholder="Введите название" />
</div>

<div id="employeeList">
    @await Html.PartialAsync("_EmployeeList", Model.Employees)
</div>

<script>
    function FilterByFullName()
    {
        var searchTerm = document.getElementById('search').value;
         $.ajax({
                    url: '@Url.Action("EmployeesList", "Home")',
                    type: 'GET',
                    data: { searchTerm: searchTerm },
                    success: function(data) {
                        $('#employeeList').html(data);
                    },
                    error: function(xhr, status, error) {
                        console.error('Ошибка:', error);
                    }
                });
    }
</script>
<p>
    @if (Model.PageViewModel.HasPreviousPage)
    {
        <a asp-action="Index"
           asp-route-page="@(Model.PageViewModel.PageNumber - 1)" class="glyphicon glyphicon-chevron-left">
            Назад
        </a>
    }
    @if (Model.PageViewModel.HasNextPage)
    {
        <a asp-action="Index"
           asp-route-page="@(Model.PageViewModel.PageNumber + 1)" class="glyphicon glyphicon-chevron-right">
            Вперед
        </a>
    }

</p>


        
